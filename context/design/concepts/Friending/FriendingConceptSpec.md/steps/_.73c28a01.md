---
timestamp: 'Fri Oct 17 2025 09:33:02 GMT-0400 (Eastern Daylight Time)'
parent: '[[..\20251017_093302.31629244.md]]'
content_id: 73c28a0112de3c111d38334e1afc55304f3f405e42a75a98df7413f34b7308d5
---

# Friending Concept Spec

**concept** Friending \[User]

**purpose** to allow users to share special permissions with other users

**principle** after a user requests to be another user's friend, that user can accept or reject the request; if a friendship is created, it can be validated for mutual, special permissions between the friends; if one of the friends ends the friendship, all special permissions are lost between the users

**state**

  a users set of Users with \
    a friends set of Users \
    an outgoingRequests set of Users \\

**actions**

  requestFriend(user: User, friend: User) \
    **requires**  friend is not already in user's set of outgoingRequests or friends; user is not already in friend's set of outgoingRequests (if user and/or friend exist in  users); friend does not equal user  \
    **effects** adds user and friend to users if not in users already; adds friend to user's set of outgoingRequests

  unrequestFriend(user: User, friend: User) \
    **requires**  friend exists  in user's set of outgoingRequests  \
    **effects** removes friend from user's set of outgoingRequests

  acceptFriend(user: User, friend: User) \
    **requires** user exists in friend's set of outgoingRequests \
    **effects** removes user from friend's set of outgoingRequests; adds friend to user's set of friends and adds user to friend's set of friends

  rejectFriend(user: User, friend: User) \
    **requires** user exists in friend's set of outgoingRequests \
    **effects** removes user from friend's set of outgoingRequests

  validateFriendship(user: User, friend: User) \
    **requires** friend exists in user's set of friends

  endFriendship(user: User, friend: User) \
    **requires** friend exists in user's set of friends \
    **effects** removes friend from user's associated set and removes user from friend's associated set

**queries**

  \_getIncoming(user: User): (users set of Users) \
    **effects** returns all users with given user in their outgoingRequests
