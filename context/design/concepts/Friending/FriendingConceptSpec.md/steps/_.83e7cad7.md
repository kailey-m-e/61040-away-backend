---
timestamp: 'Mon Oct 13 2025 15:07:40 GMT-0400 (Eastern Daylight Time)'
parent: '[[..\20251013_150740.7aa66464.md]]'
content_id: 83e7cad72699c230b5186e73e7fb1e3e29bb3db68b2578b418337bc454cc0c3a
---

# Friending Concept Spec

**concept** Friending \[User]

**purpose** to allow users to share special permissions with other users

**principle** after a user requests to be another user's friend, that user can accept to create a friendship; the friendship can then be validated for mutual, special permissions between the friends; if at any point in the process one of the friends ends the friendship, all special permissions are lost between the users

**state**

  a set of Users with \
    a friends set of Users \
    an outgoingRequests set of Users \\

**actions**

  requestFriend(user: User, friend: User) \
    **requires**  friend is not already in user's set of outgoingRequests or friends; friend does not equal user  \
    **effects** adds friend to user's set of outgoingRequests

  unrequestFriend(user: User, friend: User) \
    **requires**  friend exists  in user's set of outgoingRequests  \
    **effects** removes friend from user's set of outgoingRequests

  acceptFriend(user: User, friend: User) \
    **requires** user exists in friend's set of outgoingRequests \
    **effects** removes user from friend's set of outgoingRequests; adds friend to user's set of friends and adds user to friend's set of friends

  rejectFriend(user: User, friend: User) \
    **requires** user exists in friend's set of outgoingRequests \
    **effects** removes user from friend's set of outgoingRequests

  validateFriendship(user: User, friend: User) \
    **requires** friend exists in user's set of friends

  endFriendship(user: User, friend: User) \
    **requires** friend exists in user's set of  friends \
    **effects** removes friend from user's associated set and removes user from friend's associated set

**queries**

  getIncoming(user: User): (set of Users) \
    **effects** returns all other users for which given user is in their outgoingRequests
